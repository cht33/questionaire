(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-869ba00c"],{"17b3":function(t,e,i){},2909:function(t,e,i){"use strict";i.d(e,"a",(function(){return l}));var a=i("6b75");function s(t){if(Array.isArray(t))return Object(a["a"])(t)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function n(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var o=i("06c5");function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t){return s(t)||n(t)||Object(o["a"])(t)||r()}},d731:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{staticClass:"mt-n4"},[i("v-col",{attrs:{cols:"1"}}),i("v-col",{staticClass:"mt-0",attrs:{cols:"8",md:"6"}},[i("v-card",{staticClass:"v-card--material pa-3"},[i("div",{staticClass:"d-flex grow flex-wrap"},[i("v-sheet",{staticClass:"px-4 py-2 text-start v-card--material__heading mb-n6",attrs:{color:"primary","max-height":"90",width:"auto",elevation:"6"}},[i("div",{staticClass:"text-h4 font-weight-light white--text",domProps:{textContent:t._s("任务"+t.local_qid)}})]),i("v-container",{staticClass:"pt-6"},[i("v-row",{staticClass:"my-n4",attrs:{justify:"center",align:"center"}},[i("v-col",{staticClass:"text-h3 text-left",attrs:{cols:"12"}},[t._v(" 用户需求："+t._s(t.finalQuery)+" ")]),i("v-col",{staticClass:"text-h3 text-left mx-0",attrs:{cols:"9"}},[t._v(" 最终点击："+t._s(t.finalPoi[0])+" ")]),i("v-col",{staticClass:"text-h4 text--disabled text-right mx-0",attrs:{cols:"3"},domProps:{textContent:t._s(t.finalPoi[2]<1e3?t.finalPoi[2]+"m":(t.finalPoi[2]/1e3).toFixed(1)+"km")}}),i("v-col",{staticClass:"text-h4 text--disabled mx-0 mt-n4",attrs:{cols:"12"}},[t._v(" "+t._s(t.finalPoi[1])+" ")])],1),i("v-divider",{staticClass:"mt-2 mb-2"}),i("v-row",[i("v-col",{attrs:{cols:"4"}},[i("v-btn",{staticClass:"text-h5 py-0",attrs:{color:"primary",disabled:t.local_qid<=t.startQid+1},domProps:{textContent:t._s("上一个")},on:{click:function(e){return t.setTask(t.local_qid-1)}}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-btn",{staticClass:"text-h5 py-0",attrs:{color:"primary"},domProps:{textContent:t._s("开始演示")},on:{click:function(e){return t.setTask(t.local_qid,!0)}}})],1),i("v-col",{attrs:{cols:"4"}},[i("v-btn",{staticClass:"text-h5 py-0",attrs:{color:"primary",disabled:t.local_qid>=t.qid||t.toContinue},domProps:{textContent:t._s("下一个")},on:{click:function(e){return t.setTask(t.local_qid+1)}}})],1)],1),i("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.isFirstTime,expression:"!isFirstTime"}]},[i("v-col",{staticClass:"text-h3 text-left mx-0",attrs:{cols:"9"}},[t._v(" 查询词 "+t._s("： "+t.q_list[t.page-1])+" ")]),i("v-col",{directives:[{name:"show",rawName:"v-show",value:t.countDownTime>0,expression:"countDownTime > 0"}],staticClass:"text-h3 text--disabled text-right",attrs:{cols:"3"},domProps:{textContent:t._s("("+t.countDownTime+"s)")}})],1),i("v-row",{directives:[{name:"show",rawName:"v-show",value:!t.isFirstTime,expression:"!isFirstTime"}],staticClass:"mb-3",attrs:{justify:"start"}},[i("v-pagination",{attrs:{length:t.pageLength,"total-visible":6},on:{input:t.onPageChange},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),i("v-divider",{staticClass:"mt-0"}),i("v-list",{directives:[{name:"show",rawName:"v-show",value:!t.isFirstTime,expression:"!isFirstTime"}],staticClass:"pt-0",attrs:{disabled:""}},[i("v-list-item-group",{attrs:{page:t.page},on:{"update:page":function(e){t.page=e}},model:{value:t.clickPos,callback:function(e){t.clickPos=e},expression:"clickPos"}},[t._l(t.poi_lists[t.page-1],(function(e,a){return[i("v-list-item",{key:a},[i("v-list-item-content",[i("v-row",{staticClass:"my-n4",attrs:{justify:"center",align:"center"}},[i("v-col",{staticClass:"text-h3 text-left mx-0",attrs:{cols:"9"}},[t._v(" "+t._s(e[0])+" ")]),i("v-col",{staticClass:"text-h4 text--disabled text-right mx-0",attrs:{cols:"3"},domProps:{textContent:t._s(e[2]<1e3?e[2]+"m":(e[2]/1e3).toFixed(1)+"km")}}),i("v-col",{staticClass:"text-h4 text--disabled mx-0 mt-n4",attrs:{cols:"12"}},[t._v(" "+t._s(e[1])+" ")])],1)],1)],1),i("v-divider",{key:a+100})]}))],2)],1)],1)],1)])],1),i("v-col",{directives:[{name:"show",rawName:"v-show",value:t.page===t.pageLength,expression:"page === pageLength"}],staticClass:"mt-8",attrs:{cols:"3",md:"3"}},[i("v-row",{attrs:{justify:"start"}},[i("v-col",{staticClass:"text-h3 mx-0 mb-n2",attrs:{cols:"12"}},[t._v(" 满意度 ")]),t._l(["满意　","一般　","不满意"],(function(e,a){return i("v-col",{key:a,attrs:{cols:"12"}},[i("v-btn",{staticClass:"text-h4",attrs:{color:"primary",disabled:t.toContinue},on:{click:function(e){return t.question(3-a)}}},[t._v(" "+t._s(e)+" ")])],1)})),i("v-col",{directives:[{name:"show",rawName:"v-show",value:t.toContinue,expression:"toContinue"}],attrs:{cols:"12"}},[t._v(" 用户真实满意度："+t._s(t.userVal)+" ")]),i("v-col",{directives:[{name:"show",rawName:"v-show",value:t.toContinue,expression:"toContinue"}],attrs:{cols:"12"}},[i("v-btn",{staticClass:"text-h4",attrs:{color:"primary"},on:{click:t.goConti}},[t._v(" 继续 ")])],1)],2)],1)],1)],1)},s=[],n=i("5530"),o=i("2f62"),r=i("4328"),l=i.n(r),c={data:function(){return{page:1,countDownTime:-1,pageLength:-1,q_list:[],poi_lists:[],rank:-1,finalPoi:[],finalQuery:[],time_points:[],local_qid:-1,clickPos:-1,startTime:0,isFirstTime:!0,toContinue:!1,userVal:-1}},computed:Object(n["a"])({},Object(o["c"])(["allQuestionData","userName","startQid","qid"])),mounted:function(){var t=this.$route.params;this.$store.commit("ADD_QUESTION_DATA",t),this.local_qid=t.qid+1,this.$store.commit("SET_START_QID",t.qid),this.$store.commit("SET_QID",t.qid+1),this.setValue(t)},methods:{question:function(t){var e=this,i=(new Date).valueOf()-this.startTime;this.$axios.post("/api/question",l.a.stringify({userName:this.userName,qid:this.local_qid,grade:t,timeCost:i})).then((function(t){var i=t.data;!0===i.ended?e.$router.push("thanks"):!0===i.repost?e.setTask(e.local_qid+1):(e.$store.commit("SET_QID",i.qid+1),e.$store.commit("ADD_QUESTION_DATA",i),e.toContinue=!0)}))},goConti:function(){this.toContinue=!1,this.local_qid+=1;var t=this.allQuestionData[this.local_qid-1];this.setValue(t)},setValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.toContinue=!1,this.finalQuery=t.q_list[t.q_list.length-1],this.userVal=t.val,this.isFirstTime=i,this.rank=t.rank,this.q_list=t.q_list,this.poi_lists=t.poi_lists,this.pageLength=t.q_list.length,this.time_points=t.time_points,this.finalPoi=t.poi_lists[t.poi_lists.length-1][t.rank],this.startTime=(new Date).valueOf(),e?this.replay():i||(this.page=this.q_list.length,this.clickPos=this.rank)},setTask:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.local_qid=t;var i=this.allQuestionData[t-1];this.setValue(i,e,!1)},replay:function(){var t=this;this.page=1,this.clickPos=this.page===this.pageLength?this.rank:-1,this.countDownTime=-1;for(var e=function(e){var i=t.time_points[e];0===e&&i>5&&t.countDown(i),setTimeout((function(){if(t.page+=1,t.clickPos=t.page===t.pageLength?t.rank:-1,e+1<t.time_points.length){var a=t.time_points[e+1];a-i>5&&t.countDown(a-i)}else t.countDownTime=-1}),1e3*i)},i=0;i<this.time_points.length;i++)e(i)},countDown:function(t){var e=this;this.countDownTime=t,0!==t&&setTimeout((function(){e.countDown(t-1)}),1e3)},onPageChange:function(t){this.page=t,this.clickPos=t===this.pageLength?this.rank:-1}}},u=c,h=i("2877"),v=i("6544"),d=i.n(v),m=i("8336"),p=i("b0af"),f=i("62ad"),g=i("a523"),b=i("ce7e"),_=i("8860"),x=i("da13"),w=i("5d23"),y=i("1baa"),C=i("2909"),k=(i("a9e3"),i("99af"),i("d3b7"),i("25f0"),i("d81d"),i("17b3"),i("9d26")),T=i("dc22"),$=i("a9ad"),q=i("de2c"),L=i("7560"),D=i("58df"),P=Object(D["a"])($["a"],Object(q["a"])({onVisible:["init"]}),L["a"]).extend({name:"v-pagination",directives:{Resize:T["a"]},props:{circle:Boolean,disabled:Boolean,length:{type:Number,default:0,validator:function(t){return t%1===0}},nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},totalVisible:[Number,String],value:{type:Number,default:0},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},wrapperAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.wrapper"}},data:function(){return{maxButtons:0,selected:null}},computed:{classes:function(){return Object(n["a"])({"v-pagination":!0,"v-pagination--circle":this.circle,"v-pagination--disabled":this.disabled},this.themeClasses)},items:function(){var t=parseInt(this.totalVisible,10);if(0===t)return[];var e=Math.min(Math.max(0,t)||this.length,Math.max(0,this.maxButtons)||this.length,this.length);if(this.length<=e)return this.range(1,this.length);var i=e%2===0?1:0,a=Math.floor(e/2),s=this.length-a+1+i;if(this.value>a&&this.value<s){var n=this.value-a+2,o=this.value+a-2-i;return[1,"..."].concat(Object(C["a"])(this.range(n,o)),["...",this.length])}if(this.value===a){var r=this.value+a-1-i;return[].concat(Object(C["a"])(this.range(1,r)),["...",this.length])}if(this.value===s){var l=this.value-a+1;return[1,"..."].concat(Object(C["a"])(this.range(l,this.length)))}return[].concat(Object(C["a"])(this.range(1,a)),["..."],Object(C["a"])(this.range(s,this.length)))}},watch:{value:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.selected=null,this.$nextTick(this.onResize),setTimeout((function(){return t.selected=t.value}),100)},onResize:function(){var t=this.$el&&this.$el.parentElement?this.$el.parentElement.clientWidth:window.innerWidth;this.maxButtons=Math.floor((t-96)/42)},next:function(t){t.preventDefault(),this.$emit("input",this.value+1),this.$emit("next")},previous:function(t){t.preventDefault(),this.$emit("input",this.value-1),this.$emit("previous")},range:function(t,e){var i=[];t=t>0?t:1;for(var a=t;a<=e;a++)i.push(a);return i},genIcon:function(t,e,i,a,s){return t("li",[t("button",{staticClass:"v-pagination__navigation",class:{"v-pagination__navigation--disabled":i},attrs:{disabled:i,type:"button","aria-label":s},on:i?{}:{click:a}},[t(k["a"],[e])])])},genItem:function(t,e){var i=this,a=e===this.value&&(this.color||"primary"),s=e===this.value,n=s?this.currentPageAriaLabel:this.pageAriaLabel;return t("button",this.setBackgroundColor(a,{staticClass:"v-pagination__item",class:{"v-pagination__item--active":e===this.value},attrs:{type:"button","aria-current":s,"aria-label":this.$vuetify.lang.t(n,e)},on:{click:function(){return i.$emit("input",e)}}}),[e.toString()])},genItems:function(t){var e=this;return this.items.map((function(i,a){return t("li",{key:a},[isNaN(Number(i))?t("span",{class:"v-pagination__more"},[i.toString()]):e.genItem(t,i)])}))},genList:function(t,e){return t("ul",{directives:[{modifiers:{quiet:!0},name:"resize",value:this.onResize}],class:this.classes},e)}},render:function(t){var e=[this.genIcon(t,this.$vuetify.rtl?this.nextIcon:this.prevIcon,this.value<=1,this.previous,this.$vuetify.lang.t(this.previousAriaLabel)),this.genItems(t),this.genIcon(t,this.$vuetify.rtl?this.prevIcon:this.nextIcon,this.value>=this.length,this.next,this.$vuetify.lang.t(this.nextAriaLabel))];return t("nav",{attrs:{role:"navigation","aria-label":this.$vuetify.lang.t(this.wrapperAriaLabel)}},[this.genList(t,e)])}}),I=i("0fd9"),V=i("8dd9"),O=Object(h["a"])(u,a,s,!1,null,null,null);e["default"]=O.exports;d()(O,{VBtn:m["a"],VCard:p["a"],VCol:f["a"],VContainer:g["a"],VDivider:b["a"],VList:_["a"],VListItem:x["a"],VListItemContent:w["a"],VListItemGroup:y["a"],VPagination:P,VRow:I["a"],VSheet:V["a"]})},de2c:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var a=i("90a2"),s=i("d9bd"),n=i("2b0e");function o(t){return"undefined"!==typeof window&&"IntersectionObserver"in window?n["a"].extend({name:"intersectable",mounted:function(){a["a"].inserted(this.$el,{name:"intersect",value:this.onObserve})},destroyed:function(){a["a"].unbind(this.$el)},methods:{onObserve:function(e,i,a){if(a)for(var n=0,o=t.onVisible.length;n<o;n++){var r=this[t.onVisible[n]];"function"!==typeof r?Object(s["c"])(t.onVisible[n]+" method is not available on the instance but referenced in intersectable mixin options"):r()}}}}):n["a"].extend({name:"intersectable"})}}}]);
//# sourceMappingURL=chunk-869ba00c.f422a92d.js.map